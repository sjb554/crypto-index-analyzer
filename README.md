# Crypto Index Analyzer

Python-based toolkit that ranks the leading cryptocurrencies each week using a composite score that blends market strength, liquidity trends, risk, developer traction, and on-chain fundamentals. The project is designed to run unattended via GitHub Actions, producing an updated Markdown report that highlights the 5 to 10 most investable assets.

## Key Features
- Tracks the top 50 cryptocurrencies by market capitalisation using the CoinGecko API (optional key supported via `COINGECKO_API_KEY`).
- Builds 30 day market-cap growth, trading volume trend, and daily-return volatility metrics for each coin.
- Pulls GitHub repository telemetry (recent commits, stars, forks, watchers, open issues) to proxy developer activity.
- Derives on-chain strength from circulating versus maximum supply data and total value locked where provided.
- Normalises all signals, applies configurable weights (`config.yaml`), and surfaces the strongest 5-10 assets in `reports/crypto_index.md`.
- Ships with a scheduled GitHub Actions workflow (`.github/workflows/update.yml`) that regenerates and commits the report every Monday.

## Project Layout
- `config.yaml` - metric weights and runtime settings.
- `requirements.txt` - Python dependencies.
- `reports/crypto_index.md` - Markdown report (auto-generated by the analyser).
- `src/crypto_index_analyzer/` - source package containing configuration loading, data collection, scoring, reporting, and the CLI entry point.
- `.github/workflows/update.yml` - weekly GitHub Actions pipeline that regenerates the report and pushes changes.

## Getting Started Locally
1. Create and activate a virtual environment (optional but recommended):
   ```powershell
   python -m venv .venv
   .venv\Scripts\Activate.ps1
   ```
2. Install dependencies:
   ```powershell
   pip install -r requirements.txt
   ```
3. Run the analyser (ensure `src` is on `PYTHONPATH` or run from repository root):
   ```powershell
   $env:PYTHONPATH = 'src'
   python -m crypto_index_analyzer.run --output reports/crypto_index.md
   ```

If CoinGecko rate limits your IP, set `COINGECKO_API_KEY` in your shell or repository secrets before rerunning.

## Configuration
Edit `config.yaml` to adjust metric weights, number of coins analysed, or reporting scope:
- `weights`: must sum to 1.0; increase `developer_activity` to favour GitHub engagement or reduce `volatility` to penalise choppy assets.
- `settings.top_n`: number of assets surfaced in the Markdown report (5-10 recommended).
- `settings.coins_limit`: number of coins fetched from CoinGecko (defaults to 50).
- `settings.days_for_trend`: lookback window for volume and volatility calculations (default 30).

Changes take effect the next time you run the CLI or GitHub Actions workflow.

## Automation via GitHub Actions
The scheduled workflow runs every Monday at 12:00 UTC (and can be triggered manually). Configure repository secrets for best results:
- `COINGECKO_API_KEY` (optional but recommended to avoid public rate limits).
- `GH_TOKEN` or rely on the default `GITHUB_TOKEN` for authenticated GitHub API calls.

The workflow installs dependencies, executes the analyser, and commits `reports/crypto_index.md` if the file changed.

## Methodology Notes
- **Market cap growth** compares the first and last market-cap observations across the configured lookback window.
- **Volume trend** compares average daily volume between the first and second halves of the window.
- **Volatility** is the standard deviation of daily returns; lower volatility improves the score after normalisation.
- **Developer activity** blends recent commit counts (last 4 weeks) with GitHub repository stars, forks, watchers, and open issues.
- **On-chain strength** averages supply dilution (circulating vs. max/total supply) with log-scaled total value locked when available.

Each metric is normalised across the analysed cohort and combined by the weights in `config.yaml`. Missing data defaults to neutral values after normalisation.

## Troubleshooting
- **CoinGecko 429 rate limit**: wait a few minutes or supply a paid API key via `COINGECKO_API_KEY` (locally or as a GitHub secret).
- **GitHub API limits**: the built-in `GITHUB_TOKEN` normally suffices; provide a personal access token if you observe 403 responses.
- **Empty report**: ensure the APIs are reachable and that `settings.coins_limit` is not lower than `settings.top_n`.

## License
This project is delivered without a specific licence; add one if redistribution is required.
